import l from"i18next";import{Store as f}from"pullstate";var a=new f({locale:null});var o={languages:[],localeFromPhone:null,defaultFallback:null,locale:null},i={translations:[]},s=t=>t&&!i.translations.includes(t)?(console.warn(`Locale "${t}" not found`),null):(o.locale=t,l.changeLanguage(t,()=>{a.update(n=>{n.locale=t})}),t),F=async({localeFromPhone:t,languages:n,defaultFallback:c=null,debug:u=!1},g=null)=>{o.localeFromPhone=t();let r={compatibilityJSON:"v3",lng:c,debug:u,resources:{}};for(let e of n)r.resources[e.locale]={translation:e.translations},i.translations.push(e.locale);return await l.init(r),s(o.localeFromPhone)},p=t=>o.languages.map(n=>({selected:t===n.locale,...n})),h=()=>{let t=a.useState(n=>n.locale||o.defaultFallback);return{getLanguages:()=>p(t),locale:t,t:l.t,changeLocale:s}};export{s as changeLocale,F as initialization,h as useIntl};
