var m=Object.create;var r=Object.defineProperty;var I=Object.getOwnPropertyDescriptor;var L=Object.getOwnPropertyNames;var S=Object.getPrototypeOf,F=Object.prototype.hasOwnProperty;var h=(n,t)=>{for(var o in t)r(n,o,{get:t[o],enumerable:!0})},g=(n,t,o,l)=>{if(t&&typeof t=="object"||typeof t=="function")for(let e of L(t))!F.call(n,e)&&e!==o&&r(n,e,{get:()=>t[e],enumerable:!(l=I(t,e))||l.enumerable});return n};var d=(n,t,o)=>(o=n!=null?m(S(n)):{},g(t||!n||!n.__esModule?r(o,"default",{value:n,enumerable:!0}):o,n)),U=n=>g(r({},"__esModule",{value:!0}),n);var w={};h(w,{changeLocale:()=>u,initialization:()=>x,useIntl:()=>O});module.exports=U(w);var s=d(require("i18next"));var p=require("pullstate"),c=new p.Store({locale:null});var a={languages:[],localeFromPhone:null,defaultFallback:null,locale:null},f={translations:[]},u=n=>n&&!f.translations.includes(n)?(console.warn(`Locale "${n}" not found`),null):(a.locale=n,s.default.changeLanguage(n,()=>{c.update(t=>{t.locale=n})}),n),x=async({localeFromPhone:n,languages:t,defaultFallback:o=null,debug:l=!1})=>{a.localeFromPhone=n();let e={compatibilityJSON:"v3",lng:o,debug:l,resources:{}};for(let i of t)e.resources[i.locale]={translation:i.translations},f.translations.push(i.locale);return await s.default.init(e),u(a.localeFromPhone)},b=n=>(console.warn("dbg:options.languages",a.languages),a.languages.map(t=>({selected:n===t.locale,...t}))),O=()=>{let n=c.useState(t=>t.locale||a.defaultFallback);return{getLanguages:()=>b(n),locale:n,t:s.default.t,changeLocale:u}};0&&(module.exports={changeLocale,initialization,useIntl});
