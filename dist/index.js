var g=Object.create;var s=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var F=Object.getOwnPropertyNames;var d=Object.getPrototypeOf,h=Object.prototype.hasOwnProperty;var k=(o,a)=>{for(var l in a)s(o,l,{get:a[l],enumerable:!0})},f=(o,a,l,c)=>{if(a&&typeof a=="object"||typeof a=="function")for(let n of F(a))!h.call(o,n)&&n!==l&&s(o,n,{get:()=>a[n],enumerable:!(c=m(a,n))||c.enumerable});return o};var I=(o,a,l)=>(l=o!=null?g(d(o)):{},f(a||!o||!o.__esModule?s(l,"default",{value:o,enumerable:!0}):l,o)),L=o=>f(s({},"__esModule",{value:!0}),o);var U={};k(U,{changeLocale:()=>u,initialization:()=>S,useIntl:()=>b});module.exports=L(U);var r=I(require("format-message"));var p=require("pullstate"),i=new p.Store({locale:null});var t={languages:[],localeFromPhone:null,defaultFallback:null,locale:null},e={translations:{}},u=o=>o&&!e.translations[o]?null:(t.locale=o,(0,r.setup)({locale:t.locale,translations:e.translations[t.locale]}),i.update(a=>{a.locale=o}),o),S=({localeFromPhone:o,languages:a,defaultFallback:l=null})=>{if(t.localeFromPhone=o(),!a||!Array.isArray(a)||a.length===0){console.warn("No language packs found");return}for(let c of a){let n=c;if(!n.locale){console.warn("Check language pack for locales");continue}if(!n.translations){console.warn(`Not found "translations" object in ${n.locale} locale`);continue}t.languages.push({locale:n.locale,meta:n.meta}),t.defaultFallback||(t.defaultFallback=n.locale),e.translations[n.locale]=n.translations}return l&&!e.translations[l]?console.warn("Fallback language not found in language packs"):l&&(t.defaultFallback=l),r.default.setup({locale:t.defaultFallback,translations:e.translations[t.defaultFallback]}),u(t.localeFromPhone)},b=()=>{let o=i.useState(l=>l.locale||t.defaultFallback);return{getLanguages:()=>t.languages.map(l=>({selected:o===l.locale,...l})),locale:o,t:r.default,changeLocale:u}};0&&(module.exports={changeLocale,initialization,useIntl});
