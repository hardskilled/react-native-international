var g=Object.create;var r=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var F=Object.getPrototypeOf,d=Object.prototype.hasOwnProperty;var h=(o,a)=>{for(var t in a)r(o,t,{get:a[t],enumerable:!0})},u=(o,a,t,e)=>{if(a&&typeof a=="object"||typeof a=="function")for(let l of m(a))!d.call(o,l)&&l!==t&&r(o,l,{get:()=>a[l],enumerable:!(e=p(a,l))||e.enumerable});return o};var k=(o,a,t)=>(t=o!=null?g(F(o)):{},u(a||!o||!o.__esModule?r(t,"default",{value:o,enumerable:!0}):t,o)),I=o=>u(r({},"__esModule",{value:!0}),o);var b={};h(b,{changeLocale:()=>i,initialization:()=>S,useIntl:()=>L});module.exports=I(b);var s=k(require("format-message"));var f=require("pullstate"),c=new f.Store({locale:null});var n={languages:[],localeFromPhone:null,defaultFallback:null,locale:null,translations:{}},i=o=>o&&!n.translations[o]?null:(n.locale=o,s.setup({locale:n.locale,translations:n.translations[n.locale]}),c.update(a=>{a.locale=o}),o),S=({localeFromPhone:o,languages:a,defaultFallback:t=null})=>{if(n.localeFromPhone=o(),!a||!Array.isArray(a)||a.length===0){console.warn("No language packs found");return}for(let e of a){let l=e;if(!l.locale){console.warn("Check language pack for locales");continue}if(!l.translations){console.warn(`Not found "translations" object in ${l.locale} locale`);continue}n.languages.push({locale:l.locale,meta:l.meta}),n.defaultFallback||(n.defaultFallback=l.locale),n.translations[l.locale]=l.translations}return t&&!n.translations[t]?console.warn("Fallback language not found in language packs"):t&&(n.defaultFallback=t),s.setup({locale:n.defaultFallback,translations:n.translations[n.defaultFallback]}),i(n.localeFromPhone)},L=()=>{let o=c.useState(t=>t.locale||n.defaultFallback);return{getLanguages:()=>n.languages.map(t=>({selected:o===t.locale,...t})),locale:o,t:s,changeLocale:i}};0&&(module.exports={changeLocale,initialization,useIntl});
