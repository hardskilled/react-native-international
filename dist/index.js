var p=Object.create;var s=Object.defineProperty;var g=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var F=Object.getPrototypeOf,d=Object.prototype.hasOwnProperty;var h=(o,a)=>{for(var n in a)s(o,n,{get:a[n],enumerable:!0})},u=(o,a,n,r)=>{if(a&&typeof a=="object"||typeof a=="function")for(let t of m(a))!d.call(o,t)&&t!==n&&s(o,t,{get:()=>a[t],enumerable:!(r=g(a,t))||r.enumerable});return o};var k=(o,a,n)=>(n=o!=null?p(F(o)):{},u(a||!o||!o.__esModule?s(n,"default",{value:o,enumerable:!0}):n,o)),I=o=>u(s({},"__esModule",{value:!0}),o);var b={};h(b,{changeLocale:()=>i,initialization:()=>S,useIntl:()=>L});module.exports=I(b);var e=k(require("format-message"));var f=require("pullstate"),c=new f.Store({locale:null});var l={languages:[],localeFromPhone:null,defaultFallback:null,locale:null,translations:{}},i=o=>o&&!l.translations[o]?null:(l.locale=o,(0,e.setup)({locale:l.locale,translations:l.translations[l.locale]}),c.update(a=>{a.locale=o}),o),S=({localeFromPhone:o,languages:a,defaultFallback:n=null})=>{if(l.localeFromPhone=o(),!a||!Array.isArray(a)||a.length===0){console.warn("No language packs found");return}for(let r of a){let t=r;if(!t.locale){console.warn("Check language pack for locales");continue}if(!t.translations){console.warn(`Not found "translations" object in ${t.locale} locale`);continue}l.languages.push({locale:t.locale,meta:t.meta}),l.defaultFallback||(l.defaultFallback=t.locale),l.translations[t.locale]=t.translations}return n&&!l.translations[n]?console.warn("Fallback language not found in language packs"):n&&(l.defaultFallback=n),e.default.setup({locale:l.defaultFallback,translations:l.translations[l.defaultFallback]}),i(l.localeFromPhone)},L=()=>{let o=c.useState(n=>n.locale||l.defaultFallback);return{getLanguages:()=>l.languages.map(n=>({selected:o===n.locale,...n})),locale:o,t:e.default,changeLocale:i}};0&&(module.exports={changeLocale,initialization,useIntl});
